<!DOCTYPE html>
<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
<head>
		<meta charset="UTF-8">
        <title>Secure Form</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
		<script type="text/javascript" src="https://www.secure-server-hosting.com/secutran/secureforms/sh219947/custom-form-elements.js"></script>
		<script type="text/javascript" src="https://www.secure-server-hosting.com/secutran/secureforms/sh219947/jquery-masked-input.js"></script>
		<link rel="stylesheet" type="text/css" href="https://www.secure-server-hosting.com/secutran/secureforms/sh219947/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="https://www.secure-server-hosting.com/secutran/secureforms/sh219947/style.css" />
		<link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
	<script type="text/javascript">
	$(document).ready(function () {
				function myAlert (myMessage){
					$(document.createElement('div'))
						.attr({title: 'Alert', 'class': 'alert'})
						.html('<p>'+myMessage+'</p>')
						.dialog({
							buttons: {OK: function(){$(this).dialog('close');}},
							close: function(){$(this).remove();},
							draggable: true,
							modal: true,
							resizable: false,
							width: 'auto',
							dialogClass: 'alertDialog',
							closeText: ''
						});
				}
			
	
			//RFC 2822 regular expression
			var email = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;
			
			function validateForm(theForm){
				var error = '';
				
				var today = new Date();
				var month = today.getMonth()+1;
				var year = parseFloat(today.getFullYear().toString().substr(2,2));
				
				if(theForm.cardholdersname && theForm.cardholdersname.value.replace(/ /g,'').length < 3) error += "<br>\r\nCardholder's name must be at least 3 characters long";
				if(theForm.cardholdersemail && !email.test(theForm.cardholdersemail.value)) error += "<br>\r\nInvalid cardholder's email address";
				if (theForm.cardholdertelephonenumber && theForm.cardholdertelephonenumber.value.replace(/ /g, '').length == 0) error += "<br>\r\nPlease enter a telephone number";
				if (theForm.cardholderaddr1 && theForm.cardholderaddr1.value.replace(/ /g, '').length == 0) error += "<br>\r\nPlease enter a street address";
				if (theForm.cardholdercity && theForm.cardholdercity.value.replace(/ /g, '').length == 0) error += "<br>\r\nPlease enter the postal town/city";
				if (theForm.cardholderstate && theForm.cardholderstate.value.replace(/ /g, '').length == 0) error += "<br>\r\nPlease enter the country";
				if (theForm.cardholderpostcode && theForm.cardholderpostcode.value.replace(/ /g, '').length == 0) error += "<br>\r\nPlease enter postcode";
				if(theForm.cardnumber && (!/^[0-9]{13,21}$/.test(theForm.cardnumber.value.replace(/ /g,'')) || !mod10(theForm.cardnumber.value))) error += "<br>\r\nInvalid card number";
				
				if (theForm.cardexpireyear && (parseFloat(theForm.cardexpireyear.value) < year || (parseFloat(theForm.cardexpireyear.value) == year && parseFloat(theForm.cardexpiremonth.value) < month))) error += "<br>\r\nInvalid expiry date";
				if(!/^[0-9]{3,4}$/.test(theForm.cv2.value)) error += "<br>\r\nInvalid CV2 number";
				
				
				if(error != ''){
					myAlert("Please amend the below issues:\r\n<br>"+error);
					return false;
				}
				return true;
			}
			
			function mod10(str){
				if(typeof str != 'string') return false;
				var strArr = str.replace(/[^0-9]/g,'').split('');
				var n = 0; var midArr;
				for(var i=1; i <= strArr.length; i++)
					if(i%2)n += parseFloat(strArr[strArr.length-i]);
					else if(parseFloat(strArr[strArr.length-i])*2 < 10)n += parseFloat(strArr[strArr.length-i])*2;
						else {
							midArr = (parseFloat(strArr[strArr.length-i])*2).toString().split('');
							n += parseFloat(midArr[0]);n += parseFloat(midArr[1]);
						}
				return n%10 == 0;
			}
			
			function completeCardholder(check) {

			    var checked = check.checked;

			    if (checked) {
			        document.forms['basketform'].deliveryname.value = document.forms['basketform'].cardholdersname.value;
			        document.forms['basketform'].deliveryAddr1.value = document.forms['basketform'].cardHolderAddr1.value;
			        document.forms['basketform'].deliveryCity.value = document.forms['basketform'].cardHolderCity.value;
			        document.forms['basketform'].deliveryState.value = document.forms['basketform'].cardHolderState.value;
			        document.forms['basketform'].deliveryPostcode.value = document.forms['basketform'].cardHolderPostcode.value;
			    }
			    else {
			        document.forms['basketform'].deliveryname.value = "";
			        document.forms['basketform'].deliveryAddr1.value = "";
			        document.forms['basketform'].deliveryCity.value = "";
			        document.forms['basketform'].deliveryState.value = "";
			        document.forms['basketform'].deliveryPostcode.value = "";
			    }
			}
		
		});
			var oldCard = "$oldcardnumber";
			$(document).ready(function () {
			    var items = $(".accordeon-header");
			    items.click(function (item) {
			        $(".dark_grey_wrapp").hide();
			        $("#" + $(this).attr("datablock")).show();
			    });
			    $("#newcard").hide();

			    if (oldCard == "") {
			        var trs = $("#previousCardTable tr");
			        $(trs[0]).hide();
			        $(trs[1]).hide();
			    }
			    else {
			        oldCard = "**** **** **** " + oldCard;

			        $("#previousCard").text(oldCard);
			    }
			});
		</script>
		<script>
		jQuery(document).ready(function () {
				jQuery(function($){
					 $("#cardnumber").mask("9999 9999 9999? 9999 9999",{placeholder:" "});
				});
			});
		</script>
	
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:_dlc_DocId msdt:dt="string">7YCAHMT2X6HF-17-60</mso:_dlc_DocId>
<mso:_dlc_DocIdItemGuid msdt:dt="string">4b1151c7-d934-46c0-a8e9-28ea6ce38480</mso:_dlc_DocIdItemGuid>
<mso:_dlc_DocIdUrl msdt:dt="string">http://ta-srv-sp01/_layouts/DocIdRedir.aspx?ID=7YCAHMT2X6HF-17-60, 7YCAHMT2X6HF-17-60</mso:_dlc_DocIdUrl>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>
<body>
<div class="light_grey_wrapp" >

	<div class="blue_head_thinline" >
	</div><!-- .blue_head -->
	
	<div class="border_padding" >
		<div class="wrapper secure-payment container">
			<div class="row">
				<div class="content_wrapp col-xs-12">
					<div class="basket row">
						<h2 class="col-xs-12 basket-title">Your Purchases</h2>
					</div><!-- .basket -->
				</div><!-- .content_wrapp -->
			</div><!-- .row -->
		</div><!-- .wraper -->
	</div>
	
	<div class="wrapper secure-payment container">
		<div class="row">
			<div class="content_wrapp col-xs-12">
				<div class="basket row">
					<table>
					<loopstart:shoplst:>
						<tr><td  charset="UTF-8" style="text-align:left;" class="item_name">$itemdesc</td><td charset="UTF-8" >$itemquan</td><td charset="UTF-8" >$itempric</td></tr>
					<loopend>
					</table>
				</div><!-- .basket -->
			</div><!-- .content_wrapp -->
		</div><!-- .row -->
	</div><!-- .wrapper -->
	
	<div class="blue_head" >
		<div class="wrapper secure-payment container">
			<div class="row">
				<div class="content_wrapp col-xs-12">
					<div class="basket row">
						<h2 class="basket-total ">Total:<span class="total">$transactioncurrency $transactionamount</span></h2>
					</div><!-- .basket -->
				</div><!-- .row -->
			</div><!-- .wrapper -->
		</div><!-- .outter_wrapp -->
	</div><!-- .outter_wrapp -->
	
	<div>
		<div class="wrapper secure-payment container">
			<div class="row">
				<div class="content_wrapp col-xs-12">
					<div class="card-details row accordeon-header" datablock="recurring">
						<h2 class=" col-xs-12 card-detail-title">Pay with previously used card</h2>
					</div><!-- .card_details -->
				</div><!-- .content-wrapp -->
			</div><!-- .row -->
		</div><!-- .row -->
	</div>
</div><!-- light_grey_wrapp -->

<div class="dark_grey_wrapp" id="recurring">
	<div class="wrapper secure-payment container">
		<div class="row">
			<div class="content_wrapp col-xs-12">
				<div class="card-details row">
					<form action="https://www.secure-server-hosting.com/secutran/transactionad1.php" method="post" name="basketform" id="basketform" onsubmit="return validateForm(this)">
					<input type="hidden" name="shreference" value="$shreference" />
						<input type="hidden" name="callbackurl" id="callbackurl" value="$callbackurl" /> 
						<input type="hidden" name="callbackdata" id="callbackdata" value="$callbackdata" />		
						<input type="hidden" name="checkcode" value="$checkcode" />
						<input type="hidden" name="Secuitems" value="$secuitems" />
						<input type="hidden" name="transactioncurrency" value="$transactioncurrency" />
						<input type="hidden" name="transactionamount" value="$transactionamount" />
						<input type="hidden" id="secuString" name="secuString" value="$secuString" />
						<input type="hidden" name="reference" id="reference" value="$reference" />
						<input type="hidden" name="filename" value="$backfile" />
						<table class="col-xs-12" id="previousCardTable">
							<tr><td>Previously used card number:</td></tr>
							<tr><td><span id="previousCard"></span></td></tr>
                            <tr><td>CV2 number:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="tel" pattern="[0-9 ]*" name="cv2" id="cv2" value="$cv2"  /></td></tr>
                                                        							<tr>
								<td><input type="submit" value="Complete Order" name="Complete Order" class="button" /></td>
							</tr>
						</table>
					</form>
				</div><!-- .card_details -->
			</div><!-- .content_wrapp -->
		</div><!--.row -->
	</div><!--.wrapper -->
</div><!-- .outter -->

<div class="light_grey_wrapp" >
	<div>
		<div class="wrapper secure-payment container">
			<div class="row">
				<div class="content_wrapp col-xs-12">
					<div class="card-details row accordeon-header" datablock="newcard">
						<h2 class=" col-xs-12 card-detail-title">Use another card</h2>
					</div><!-- .card_details -->
				</div><!-- .content-wrapp -->
			</div><!-- .row -->
		</div><!-- .row -->
	</div>
</div>

<div class="dark_grey_wrapp" id="newcard">
	<div class="wrapper secure-payment container">
		<div class="row">
			<div class="content_wrapp col-xs-12">
				<div class="card-details row">
					<form action="https://www.secure-server-hosting.com/secutran/transactionsi1.php" method="post" name="basketform" id="Form1" onsubmit="return validateForm(this)">
					<input type="hidden" name="shreference" value="$shreference" />
						<input type="hidden" name="callbackurl" id="Hidden1" value="$callbackurl" /> 
						<input type="hidden" name="callbackdata" id="Hidden2" value="$callbackdata" />		
						<input type="hidden" name="checkcode" value="$checkcode" />
						<input type="hidden" name="Secuitems" value="$secuitems" />
						<input type="hidden" name="transactioncurrency" value="$transactioncurrency" />
						<input type="hidden" name="transactionamount" value="$transactionamount" />
						<input type="hidden" id="Hidden3" name="secuString" value="$secuString" />
						<input type="hidden" name="filename" value="$backfile" />
						<table class="col-xs-12">
							<tr><td>Name:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="text" name="cardholdersname" id="cardholdersname" value="$cardholdersname" /></td></tr>
							
							<tr><td>Email address:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="email" name="cardholdersemail" id="cardholdersemail" value="$cardholdersemail"  /></td></tr>
							
							<tr><td>Phone number:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="tel" name="cardholdertelephonenumber" id="cardholdertelephonenumber" value = "$cardholdertelephonenumber" /></td></tr>
						
							<tr><td>Street:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="text" name="cardholderaddr1" id="cardholderaddr1" value="$cardholderaddr1" /></td></tr>
							
							<tr><td>City/Town:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="text" name="cardholdercity" id="cardholdercity" value="$cardholdercity"  /></td></tr>
							
							<tr><td>Country:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="text" name="cardholderstate" id="cardholderstate" value="$cardholderstate" /></td></tr>
						
							<tr><td>Postcode:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="text" name="cardholderpostcode" id="cardholderpostcode" value="$cardholderpostcode"  /></td></tr>

							<tr><td>We accept the following cards:</td></tr>
							<tr><td><img class="img-responsive" src="https://www.secure-server-hosting.com/secutran/secureforms/sh219947/transaction_cards.png" /></td></tr>
						
							<tr><td>Card type:<span class="blue-ast">*</span></td></tr>
							<tr><td><div class="select-wrapp wbkt-select">
									<select name="cardtype" class="styled hasCustomSelect" id="cardtype">
										<option value="Visa">Visa</option>
										<option value="Mastercard">Mastercard</option>
										<option value="Delta">Delta </option>
										<option value="Switch/Maestro">Switch/Maestro</option>
										<option value="Solo">Solo</option>
									</select>
									</div>
							</td></tr>
					
							<tr><td>Card number:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="tel" pattern="[0-9 ]*" name="cardnumber" id="cardnumber" value="$cardnumber" /><td></tr>
						
						
							<tr><td>CV2 number:<span class="blue-ast">*</span></td></tr>
							<tr><td><input type="tel" pattern="[0-9 ]*" name="cv2" id="Number1" value="$cv2"  /></td></tr>

							<tr><td>Start date:</td></tr>
							<tr ><td class="double-td"><div class="fir wbkt-select">
									<select name="cardstartmonth" class="styled" id="cardstartmonth" value = "$cardstartmonth">
											<option value="01">01</option>
											<option value="02">02</option>
											<option value="03">03</option>
											<option value="04">04</option>
											<option value="05">05</option>
											<option value="06">06</option>
											<option value="07">07</option>
											<option value="08">08</option>
											<option value="09">09</option>
											<option value="10">10</option>
											<option value="11">11</option>
											<option value="12">12</option>
									</select>
								</div><!-- .fir -->
									
									<div class="sec wbkt-select">
										<select name="cardstartyear" class="styled" id="cardstartyear" value = "$cardstartyear">
										 <script>
										 $(document).ready(function () {
										     var presDate = new Date();
										     var presYear = presDate.getFullYear();
										     arr = Array();
										     var index;
										     var strk;
										     for (var j = 2000; j <= presYear; j++)
										     { arr.push(j); }
										     for (index in arr) {
										         strk = arr[index];
										         strk = strk.toString().substr(2, 2);

										         document.write('<option value="' + strk + '">' + strk + '</option>');
										     }
											});
											</script>
										</select>
									</div><!-- .sec -->
								</td>
							</tr>
						
							<tr><td>Expiry date:<span class="blue-ast">*</span></td></tr>
							<tr ><td class="double-td"><div class="fir wbkt-select">
								<select name="cardexpiremonth" class="styled" id="cardexpiremonth" value = "$cardexpiremonth">
										<option value="01">01</option>
										<option value="02">02</option>
										<option value="03">03</option>
										<option value="04">04</option>
										<option value="05">05</option>
										<option value="06">06</option>
										<option value="07">07</option>
										<option value="08">08</option>
										<option value="09">09</option>
										<option value="10">10</option>
										<option value="11">11</option>
										<option value="12">12</option>
									</select>
								</div><!-- .fir -->
							
									<div class="sec wbkt-select">
										<select name="cardexpireyear" class="styled" id="cardexpireyear" value="$cardexpireyear">
                                            <option value="2018">2018</option>
                                            <option value="2017">2017</option>
                                            <option value="2016">2016</option>
                                            <option value="2015">2015</option>
                                            <option value="2014">2014</option>
										</select>
									</div><!-- .sec -->
								</td>
							</tr>
						
							<tr>
								<td><input type="submit" value="Complete Order" name="Complete Order" class="button" /></td>
							</tr>
							
						</table>
					</form>
				</div><!-- .card_details -->
			</div><!-- .content_wrapp -->
		</div><!--.row -->
	</div><!--.wrapper -->
</div><!-- .outter -->
</body>
</html>